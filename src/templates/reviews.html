{% include "layout_top.html" %}
<div class="container">
  <div class="row">
  <div class="col-12">
      <div class="card">
          <div class="card-body text-center">
              <h5 class="card-title m-b-0">All Commits that require your attention</h5>
          </div>
          <link rel="stylesheet" href="https://cdn.datatables.net/1.10.2/css/jquery.dataTables.min.css">
          <script type="text/javascript" src="https://cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
          
          <div class="table-responsive container">
            <table id="commits" class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th class="col-md-5 col-xs-5">Rationale</th>
                  <th class="col-md-5 col-xs-5">Timestamp</th>
                  <th class="col-md-5 col-xs-5">Deck</th>
                </tr>
                <tr class="warning no-result">
                  <td colspan="4"><i class="fa fa-warning"></i>No Commits found</td>
                </tr>
              </thead>
              <tbody>
                {% for commit in commits %}
                <tr>
                    <td><a href="/commit/{{ commit.id }}">{{ commit.rationale }}</a></td>
                    <td><a href="/commit/{{ commit.id }}">{{ commit.timestamp }}</a></td>
                    <td><a href="/commit/{{ commit.id }}">{{ commit.deck }}</a></td>
                </tr> 
                {% endfor %}      
              </tbody>
            </table>
          </div>
          <br />
          <hr /> 
          <br />
          <div class="card-body text-center">
            <h5 class="card-title m-b-0">Alternatively, you can filter by cards and not commits here</h5>
          </div>
          <div class="table-responsive container">
            <table id="notes" class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th class="col-md-5 col-xs-5">Status</th>
                  <th class="col-md-5 col-xs-5">Last Update</th>
                  <th class="col-md-5 col-xs-5">Deck</th>
                  <th class="col-md-4 col-xs-4">Fields</th>
                </tr>
                <tr class="warning no-result">
                  <td colspan="4"><i class="fa fa-warning"></i>No Notes found</td>
                </tr>
              </thead>
              <tbody>
                {% for note in notes %}
                <tr>
                  <td><a href="/review/{{ note.id }}">{% if note.status == 0 %}New Card{% else %}New Suggestions{% endif %}</a></td>
                    <td><a href="/review/{{ note.id }}">{{ note.last_update }}</a></td>
                    <td><a href="/review/{{ note.id }}">{{ note.full_path }}</a></td>
                    <td><a href="/review/{{ note.id }}">{{ note.fields | striptags | truncate(length=150) }}</a></td>
                </tr> 
                {% endfor %}      
              </tbody>
            </table>
          </div>
      </div>
  </div>
</div>
</div> 
<script>
  $(document).ready(function() {
    $('#commits').DataTable();
    $('#notes').DataTable();
} );
</script>
{% include "layout_bottom.html" %}
